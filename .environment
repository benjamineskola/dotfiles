# -*- sh -*-

FQDN=$(hostname -f || hostname) # on solaris, hostname -f won't work
HOSTNAME=${FQDN%%.*}
DOMAIN=${FQDN#*.}
export HOSTNAME DOMAIN FQDN

# store the name of the operating system and architecture.
OS=$(uname -s)
ARCH=$(uname -m)
export OS ARCH

export XDG_CACHE_HOME=$HOME/.cache
export XDG_CONFIG_HOME=$HOME/.config
export XDG_DATA_HOME=$HOME/.data

if [ $OS = Darwin ]; then
	export XDG_DATA_HOME=$HOME/Library
	export XDG_CACHE_HOME=$HOME/Library/Caches
fi
mkdir -p $XDG_CACHE_HOME

PATH=~/bin/${OS}/${ARCH}:~/bin/${OS}:~/bin:\
/usr/local/texlive/2013/bin/x86_64-darwin:\
$XDG_DATA_HOME/Haskell/bin:/usr/local/bin:/usr/local/sbin:\
/usr/local/games:/usr/bin:/usr/sbin:/usr/games:/bin:/sbin:\
/usr/lib/hadoop/bin:/usr/lib/hbase/bin
export PATH

export AWS_CONFIG_FILE=$XDG_CONFIG_HOME/aws.ini

EDITOR=vi

if [ $OS = "Darwin" ]; then
	EDITOR=mate
	alias vi=$EDITOR
	alias vim=$EDITOR
else
	EDITOR=vi
	if [ -x "$(which vim)" ]; then
		EDITOR=vim
	fi
	alias vi="$EDITOR"
fi
VISUAL=$EDITOR
export EDITOR VISUAL

case $DOMAIN in
	*chonp.net|*mendeley.com)
		GIT_AUTHOR_EMAIL=bma@mendeley.com
		;;
	*)
		GIT_AUTHOR_EMAIL=bma@bma.li
		;;
esac
GIT_COMMITTER_EMAIL=$GIT_AUTHOR_EMAIL
export GIT_AUTHOR_EMAIL GIT_COMMITTER_EMAIL

LESS="-ImRswFX"
LESSHISTFILE="$XDG_CACHE_HOME/less_history"
if [ -x $(which lesspipe.sh) ]; then
	export LESSOPEN="|lesspipe.sh %s"
elif [ -x $(which lesspipe) ]; then
	export LESSOPEN="|lesspipe %s"
fi
export LESS LESSHISTFILE

export LS_COLORS="no=00:fi=00:di=34:ln=35:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:su=37;41:sg=30;43:tw=30;42:ow=34;42:st=37;44:ex=31" # gnu
export LSCOLORS=exfxcxdxbxegedabagacad # bsd

export TZ=Europe/London
