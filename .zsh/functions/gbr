# -*- zsh -*-

if [ "$#" = 0 ]; then
	git branch -a
	return
fi

if git show-ref --heads "$1"; then
	git checkout "$1"
elif git show-ref "$1"; then
	remote=$(git branch -a | grep -E "remotes/[^/]+/$1" | cut -d / -f 2-)
	git checkout -b "$1" "$remote"
else
	git checkout -b "$1"
fi
